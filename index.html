<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alias √úretim Paneli</title>

  <style>
    :root{
      --bg0:#070a10;
      --bg1:#0b1320;

      --card: rgba(15, 23, 42, .70);
      --stroke: rgba(148, 163, 184, .14);
      --txt:#eaf2ff;
      --muted:#aab6cf;

      --accent:#22d3ee;
      --accent2:#38bdf8;

      --radius: 22px;
      --shadow: 0 0 0 1px rgba(148,163,184,.10), 0 18px 60px rgba(0,0,0,.62);
      --glow: 0 0 26px rgba(34,211,238,.10), 0 0 80px rgba(56,189,248,.07);

      --btn: rgba(255,255,255,.05);
      --btnStroke: rgba(148,163,184,.18);
      --btnHover: rgba(34,211,238,.10);
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--txt);
      background:
        radial-gradient(1200px 650px at 18% 10%, rgba(56,189,248,.10), transparent 55%),
        radial-gradient(900px 700px at 82% 18%, rgba(34,211,238,.08), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* subtle stars */
    .stars:before, .stars:after{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:
        radial-gradient(1px 1px at 12% 18%, rgba(255,255,255,.36), transparent 55%),
        radial-gradient(1px 1px at 28% 72%, rgba(255,255,255,.24), transparent 55%),
        radial-gradient(1px 1px at 55% 38%, rgba(255,255,255,.22), transparent 55%),
        radial-gradient(1px 1px at 76% 82%, rgba(255,255,255,.18), transparent 55%),
        radial-gradient(1px 1px at 91% 14%, rgba(255,255,255,.26), transparent 55%),
        radial-gradient(1px 1px at 45% 90%, rgba(255,255,255,.14), transparent 55%);
      opacity:.22;
    }
    .stars:after{filter: blur(.6px); opacity:.14; transform:scale(1.06)}

    .wrap{
      max-width: 1040px;
      margin: 64px auto;
      padding: 0 16px 40px;
    }

    /* Brand */
    .brand{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      margin-bottom: 10px;
    }
    .logo{
      width:44px;height:44px;
      border-radius:14px;
      background:
        radial-gradient(18px 18px at 30% 30%, rgba(255,255,255,.14), transparent 55%),
        linear-gradient(135deg, rgba(56,189,248,.85), rgba(34,211,238,.55));
      box-shadow: 0 0 26px rgba(56,189,248,.14), 0 0 56px rgba(34,211,238,.10);
      position:relative;
    }
    .logo:after{
      content:"‚ú¶";
      position:absolute; inset:0;
      display:grid; place-items:center;
      font-weight:900;
      color: rgba(255,255,255,.92);
      text-shadow: 0 0 14px rgba(255,255,255,.16);
    }

    h1{
      margin: 0;
      text-align:center;
      font-size: 36px;
      letter-spacing:.2px;
      color: #eaf2ff;
      text-shadow: 0 0 18px rgba(34,211,238,.10);
    }

    /* Top actions */
    .topnav{
      display:flex;
      justify-content:center;
      gap:10px;
      margin: 12px 0 18px;
    }
    .navbtn{
      appearance:none;
      border: 1px solid var(--btnStroke);
      background: var(--btn);
      color: var(--txt);
      padding: 10px 14px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 13px;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease, filter .12s ease;
      user-select:none;
    }
    .navbtn:hover{
      background: var(--btnHover);
      border-color: rgba(34,211,238,.35);
      transform: translateY(-1px);
      filter: brightness(1.03);
    }
    .navbtn:active{transform: translateY(0px)}
    .navbtn.primary{
      border-color: rgba(34,211,238,.42);
      background: linear-gradient(90deg, rgba(56,189,248,.14), rgba(34,211,238,.12));
      box-shadow: 0 0 18px rgba(34,211,238,.10);
    }

    .sub{
      margin: 0 0 18px;
      text-align:center;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.5;
    }
    .sub b{color:#fff}

    /* Stats row */
    .stats{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin: 16px 0 14px;
    }
    @media (max-width:860px){
      .stats{grid-template-columns:1fr}
    }
    .stat{
      border-radius: 18px;
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(148,163,184,.10);
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      box-shadow: 0 0 0 1px rgba(34,211,238,.05) inset;
    }
    .stat .k{color:var(--muted); font-size:12px}
    .stat .v{font-weight:900; font-size:14px}

    .badge{
      padding:6px 10px;
      border-radius:999px;
      border: 1px solid rgba(34,211,238,.20);
      background: rgba(34,211,238,.08);
      box-shadow: 0 0 16px rgba(34,211,238,.08);
      font-size:12.5px;
      color: #eaf2ff;
      white-space:nowrap;
    }

    /* Panel */
    .panel{
      border-radius: var(--radius);
      background: var(--card);
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow), var(--glow);
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(10px);
    }
    .panel:before{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(90deg, rgba(56,189,248,.08), rgba(34,211,238,.08));
      filter: blur(20px);
      opacity:.55;
      pointer-events:none;
    }
    .inner{position:relative; padding:18px}

    .grid{
      display:grid;
      grid-template-columns: 1.4fr .8fr;
      gap:14px;
    }
    @media (max-width:860px){
      .grid{grid-template-columns:1fr}
    }

    .field{
      background: rgba(0,0,0,.18);
      border:1px solid rgba(148,163,184,.14);
      border-radius:18px;
      padding:12px;
      box-shadow: 0 0 0 1px rgba(34,211,238,.05) inset;
    }

    .label{
      font-size:12px;
      color:var(--muted);
      margin-bottom:8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .label small{opacity:.92}

    input[type="text"], input[type="number"]{
      width:100%;
      padding:12px 12px;
      font-size:15px;
      border-radius:14px;
      border:1px solid rgba(148,163,184,.14);
      background: rgba(255,255,255,.04);
      color:var(--txt);
      outline:none;
      box-shadow: 0 0 0 1px rgba(148,163,184,.06);
    }
    input:focus{
      border-color: rgba(34,211,238,.42);
      box-shadow: 0 0 0 3px rgba(34,211,238,.14), 0 0 22px rgba(56,189,248,.10);
    }

    .sectionTitle{
      margin-top:14px;
      color:var(--muted);
      font-size:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }

    .modes{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top:10px;
    }
    @media (max-width:860px){
      .modes{grid-template-columns:1fr}
    }

    .mode{
      padding:14px 14px;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.12);
      background: rgba(255,255,255,.03);
      cursor:pointer;
      position:relative;
      overflow:hidden;
      min-height:74px;
      transition: transform .12s ease, border-color .12s ease;
      text-align:center;
    }
    .mode:hover{
      border-color: rgba(34,211,238,.25);
      transform: translateY(-1px);
    }
    .mode.active{
      border-color: rgba(34,211,238,.42);
      box-shadow: 0 0 0 1px rgba(34,211,238,.10), 0 0 24px rgba(34,211,238,.10);
      background: rgba(34,211,238,.06);
    }
    .mode .title{
      font-weight:900;
      font-size:14px;
      display:flex; gap:10px; align-items:center; justify-content:center;
    }
    .radio{
      width:14px; height:14px; border-radius:50%;
      border:2px solid rgba(170,182,207,.75);
      box-shadow: 0 0 0 2px rgba(0,0,0,.25) inset;
      position:relative;
      flex:0 0 auto;
    }
    .mode.active .radio{border-color: rgba(34,211,238,.85)}
    .mode.active .radio:after{
      content:""; position:absolute; inset:3px;
      border-radius:50%;
      background: linear-gradient(180deg, var(--accent2), var(--accent));
      box-shadow: 0 0 12px rgba(34,211,238,.18);
    }
    .mode .desc{
      margin-top:6px;
      color:var(--muted);
      font-size:12px;
      line-height:1.25;
    }

    .ctaRow{
      display:flex;
      gap:12px;
      margin-top:14px;
      align-items:stretch;
      flex-wrap:wrap;
    }
    .cta{
      flex: 1 1 260px;
      padding:14px 16px;
      border-radius:18px;
      border:1px solid rgba(34,211,238,.35);
      background: linear-gradient(90deg, rgba(56,189,248,.16), rgba(34,211,238,.12));
      color:var(--txt);
      font-size:15px;
      font-weight:950;
      cursor:pointer;
      box-shadow: 0 0 28px rgba(34,211,238,.10);
      display:flex; align-items:center; justify-content:center; gap:10px;
      transition: transform .12s ease, filter .12s ease;
    }
    .cta:hover{filter: brightness(1.05); transform: translateY(-1px)}
    .cta:active{transform: translateY(0px)}

    .ghost{
      flex: 0 0 auto;
      padding:14px 14px;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.14);
      background: rgba(255,255,255,.04);
      color:var(--txt);
      cursor:pointer;
      font-weight:900;
      font-size:14px;
      min-width: 160px;
    }
    .ghost:hover{border-color: rgba(34,211,238,.22)}

    .hint{
      margin-top:14px;
      padding:12px 14px;
      border-radius:18px;
      border:1px solid rgba(56,189,248,.14);
      background: rgba(56,189,248,.06);
      color: #d8f0ff;
      font-size:12.5px;
      line-height:1.45;
    }
    .hint strong{color:#ffffff}

    .out{
      margin-top:14px;
      padding:14px;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.10);
      background: rgba(0,0,0,.16);
    }
    .outHead{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
      flex-wrap:wrap;
    }
    .outHead .t{font-weight:950}
    .outHead .m{color:var(--muted); font-size:12px; margin-top:4px}

    .mini{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .btnMini{
      padding:9px 11px;
      border-radius:14px;
      border:1px solid rgba(148,163,184,.14);
      background: rgba(255,255,255,.04);
      color:var(--txt);
      cursor:pointer;
      font-size:12.5px;
      font-weight:900;
    }
    .btnMini:hover{border-color: rgba(34,211,238,.22)}

    .list{
      margin:0; padding:0; list-style:none;
      max-height: 280px;
      overflow:auto;
      border-radius:14px;
      border:1px solid rgba(148,163,184,.10);
    }
    .list li{
      padding:10px 12px;
      border-bottom:1px solid rgba(148,163,184,.08);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      font-size:13px;
      color:#eaf2ff;
    }
    .list li:last-child{border-bottom:none}

    .copy{
      padding:7px 10px;
      border-radius:12px;
      border:1px solid rgba(148,163,184,.14);
      background: rgba(255,255,255,.03);
      color:var(--muted);
      cursor:pointer;
      font-size:12px;
      font-weight:900;
      white-space:nowrap;
    }
    .copy:hover{border-color: rgba(34,211,238,.22); color: var(--txt)}

    /* ‚úÖ Fix: footer + ileti≈üim artƒ±k d√ºzg√ºn bir "alt bar" */
    .bottomBar{
      margin-top:14px;
      padding: 12px 14px;
      border-radius: 18px;
      border: 1px solid rgba(148,163,184,.10);
      background: rgba(0,0,0,.14);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      color: rgba(170,182,207,.86);
      font-size: 12px;
      line-height: 1.45;
    }
    .contact{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:800;
      color: rgba(170,182,207,.95);
    }
    .contact a{
      text-decoration:none;
      color: var(--txt);
      border: 1px solid rgba(34,211,238,.22);
      background: rgba(34,211,238,.08);
      padding: 8px 12px;
      border-radius: 999px;
      font-weight:950;
      font-size: 12px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .contact a:hover{
      background: rgba(34,211,238,.12);
      border-color: rgba(34,211,238,.35);
      transform: translateY(-1px);
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform:translateX(-50%);
      background: rgba(15, 23, 42, .92);
      border:1px solid rgba(34,211,238,.22);
      box-shadow: 0 0 20px rgba(34,211,238,.12);
      color:var(--txt);
      padding:10px 12px;
      border-radius:14px;
      font-size:13px;
      font-weight:900;
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
    }
    .toast.show{
      opacity:1;
      transform:translateX(-50%) translateY(-4px);
    }

    /* Modal (Kƒ±lavuz) */
    .modalBack{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 50;
    }
    .modal{
      width: min(720px, 100%);
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(15, 23, 42, .88);
      box-shadow: 0 20px 80px rgba(0,0,0,.65);
      backdrop-filter: blur(10px);
      overflow:hidden;
    }
    .modalHead{
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      border-bottom: 1px solid rgba(148,163,184,.12);
    }
    .modalHead b{font-size:14px; letter-spacing:.2px}
    .modalClose{
      border: 1px solid rgba(148,163,184,.18);
      background: rgba(255,255,255,.06);
      color: var(--txt);
      border-radius: 12px;
      padding: 8px 10px;
      font-weight: 900;
      cursor:pointer;
    }
    .modalBody{
      padding: 14px 16px 16px;
      color: rgba(234,242,255,.92);
      font-size: 13px;
      line-height: 1.6;
    }
    .modalBody ul{margin: 10px 0 0; padding-left: 18px}
    .modalBody li{margin: 6px 0}
    .modalBack.show{display:flex}

    /* nicer scrollbars */
    .list::-webkit-scrollbar{width:10px}
    .list::-webkit-scrollbar-thumb{
      background: rgba(148,163,184,.18);
      border-radius: 999px;
      border: 2px solid rgba(15, 23, 42, .60);
    }
    .list::-webkit-scrollbar-thumb:hover{
      background: rgba(34,211,238,.18);
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <div class="wrap">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
    </div>

    <h1>Alias √úretim Paneli</h1>

    <!-- ‚úÖ FIX: √úst butonlar profesyonel -->
    <div class="topnav" aria-label="Kƒ±sayollar">
      <a class="navbtn primary" href="https://discord.com/users/816990858515709962" target="_blank" rel="noopener">
        üí¨ Discord Profil
      </a>
      <button class="navbtn" id="helpBtn" type="button">üìò Kƒ±lavuz</button>
    </div>

    <p class="sub">
      Gmail i√ßin <b>+tag</b> ve <b>nokta</b> varyasyonlarƒ±nƒ± √ºret (demo).<br/>
      <span style="opacity:.9">Giri≈ü yapmaz ‚Ä¢ ≈ûifre istemez ‚Ä¢ Mail g√∂ndermez</span>
    </p>

    <div class="stats" aria-label="√ñzet">
      <div class="stat">
        <div>
          <div class="k">Durum</div>
          <div class="v">Hazƒ±r</div>
        </div>
        <span class="badge">UI Demo</span>
      </div>
      <div class="stat">
        <div>
          <div class="k">Maksimum √úretim</div>
          <div class="v">200 adet</div>
        </div>
        <span class="badge">Limitli</span>
      </div>
      <div class="stat">
        <div>
          <div class="k">Son √úretim</div>
          <div class="v" id="lastGen">‚Äî</div>
        </div>
        <span class="badge">Canlƒ±</span>
      </div>
    </div>

    <section class="panel">
      <div class="inner">

        <div class="grid">
          <div class="field">
            <div class="label">
              <span>Gmail Adresi</span>
              <small>Sadece <b>gmail.com</b></small>
            </div>
            <input id="email" type="text" placeholder="ornek@gmail.com" value="denemeyet@gmail.com" />
          </div>

          <div class="field">
            <div class="label">
              <span>√úretilecek Adet</span>
              <small>1‚Äì200</small>
            </div>
            <input id="count" type="number" min="1" max="200" value="10" />
          </div>
        </div>

        <div class="sectionTitle">
          <span>Varyasyon T√ºr√º</span>
          <span style="font-size:12px; color:var(--muted)">Tek tƒ±kla se√ß</span>
        </div>

        <div class="modes" id="modes">
          <div class="mode active" data-mode="plus">
            <div class="title"><span class="radio"></span> +tag</div>
            <div class="desc">+1 ‚Ä¢ +2 ‚Ä¢ +3 ‚Ä¶</div>
          </div>
          <div class="mode" data-mode="dot">
            <div class="title"><span class="radio"></span> Nokta</div>
            <div class="desc">a.b.c varyasyonlarƒ±</div>
          </div>
          <div class="mode" data-mode="dotplus">
            <div class="title"><span class="radio"></span> Karma</div>
            <div class="desc">nokta + tag</div>
          </div>
        </div>

        <div class="ctaRow">
          <button class="cta" id="genBtn" type="button">‚úâÔ∏è Aliaslarƒ± √úret</button>
          <button class="ghost" id="resetBtn" type="button">Sƒ±fƒ±rla</button>
        </div>

        <div class="hint">
          <strong>Not:</strong> Gmail‚Äôde <b>nokta</b> ve <b>+tag</b> varyasyonlarƒ± genellikle aynƒ± inbox‚Äôa d√º≈üer.
          Bu sayfa <strong>sadece</strong> alias listesi √ºretir.
        </div>

        <div class="out" id="outBox" style="display:none">
          <div class="outHead">
            <div>
              <div class="t">√úretilen Aliaslar</div>
              <div class="m" id="outMeta">‚Äî</div>
            </div>
            <div class="mini">
              <button class="btnMini" id="copyAll" type="button">T√ºm√ºn√º Kopyala</button>
              <button class="btnMini" id="downloadTxt" type="button">TXT ƒ∞ndir</button>
              <button class="btnMini" id="clear" type="button">Temizle</button>
            </div>
          </div>
          <ul class="list" id="list"></ul>
        </div>

        <!-- ‚úÖ FIX: Alt yazƒ± + ileti≈üim artƒ±k d√ºzg√ºn ve panelin i√ßinde -->
        <div class="bottomBar">
          <div>Bu demo yalnƒ±zca alias √ºretir. G√ºvenli kullanƒ±m kullanƒ±cƒ± sorumluluƒüundadƒ±r.</div>
          <div class="contact">
            <span>ƒ∞leti≈üim</span>
            <a href="https://discord.com/users/816990858515709962" target="_blank" rel="noopener">Discord Profilim</a>
          </div>
        </div>

      </div>
    </section>
  </div>

  <div class="toast" id="toast">Kopyalandƒ± ‚úÖ</div>

  <!-- ‚úÖ Kƒ±lavuz Modal -->
  <div class="modalBack" id="modalBack" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modalHead">
        <b id="modalTitle">üìò Kƒ±lavuz</b>
        <button class="modalClose" id="modalClose" type="button">Kapat ‚úï</button>
      </div>
      <div class="modalBody">
        <div><b>Nasƒ±l kullanƒ±lƒ±r?</b></div>
        <ul>
          <li><b>Gmail</b> adresini yaz (sadece gmail.com kabul edilir).</li>
          <li><b>Adet</b> se√ß (1‚Äì200).</li>
          <li>Mod se√ß:
            <b>+tag</b> / <b>Nokta</b> / <b>Karma</b>
          </li>
          <li><b>Aliaslarƒ± √úret</b> deyince liste gelir.</li>
          <li>Tek tek veya <b>T√ºm√ºn√º Kopyala</b> ile kopyalayabilirsin.</li>
        </ul>
        <div style="margin-top:10px; color: rgba(170,182,207,.9)">
          Bu sayfa sadece liste √ºretir; mail g√∂ndermez.
        </div>
      </div>
    </div>
  </div>

  <script>
    const emailEl = document.getElementById('email');
    const countEl = document.getElementById('count');
    const modesEl = document.getElementById('modes');
    const genBtn = document.getElementById('genBtn');
    const resetBtn = document.getElementById('resetBtn');
    const outBox = document.getElementById('outBox');
    const outMeta = document.getElementById('outMeta');
    const listEl = document.getElementById('list');
    const copyAllBtn = document.getElementById('copyAll');
    const clearBtn = document.getElementById('clear');
    const downloadTxtBtn = document.getElementById('downloadTxt');
    const toast = document.getElementById('toast');
    const lastGenEl = document.getElementById('lastGen');

    // Modal
    const helpBtn = document.getElementById('helpBtn');
    const modalBack = document.getElementById('modalBack');
    const modalClose = document.getElementById('modalClose');

    let mode = 'plus';

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(()=> toast.classList.remove('show'), 1200);
    }

    modesEl.addEventListener('click', (e)=>{
      const card = e.target.closest('.mode');
      if(!card) return;
      mode = card.dataset.mode;
      [...modesEl.querySelectorAll('.mode')].forEach(x=>x.classList.remove('active'));
      card.classList.add('active');
    });

    function parseGmail(addr){
      const a = (addr || '').trim();
      const m = a.match(/^([^@]+)@gmail\.com$/i);
      if(!m) return null;
      const local = m[1];
      const normalized = local.replace(/\./g,'');
      return { local: normalized, domain: 'gmail.com' };
    }

    function dotVariants(local, limit){
      const chars = local.split('');
      const n = chars.length;
      if(n <= 1) return [local];
      const maxMasks = 1 << (n - 1);
      const out = [];
      for(let mask = 0; mask < maxMasks && out.length < limit; mask++){
        let s = chars[0];
        for(let i=0;i<n-1;i++){
          if(mask & (1<<i)) s += '.';
          s += chars[i+1];
        }
        out.push(s);
      }
      return out;
    }

    function uniq(arr){
      const seen = new Set();
      const out = [];
      for(const x of arr){
        if(!seen.has(x)){
          seen.add(x);
          out.push(x);
        }
      }
      return out;
    }

    function makePlus(local, count){
      const out = [];
      for(let i=1;i<=count;i++){
        out.push(`${local}+${i}@gmail.com`);
      }
      return out;
    }

    function makeDot(local, count){
      const dots = dotVariants(local, Math.min(4096, count*6));
      const picked = dots.slice(0, count).map(v => `${v}@gmail.com`);
      return uniq(picked).slice(0, count);
    }

    function makeDotPlus(local, count){
      const baseDots = dotVariants(local, Math.min(4096, count*6));
      const out = [];
      let tag = 1;
      for(let i=0;i<baseDots.length && out.length < count;i++){
        out.push(`${baseDots[i]}+${tag}@gmail.com`);
        tag++;
      }
      return uniq(out).slice(0, count);
    }

    function render(items){
      listEl.innerHTML = '';
      items.forEach((item)=>{
        const li = document.createElement('li');
        const span = document.createElement('span');
        span.textContent = item;

        const btn = document.createElement('button');
        btn.className = 'copy';
        btn.type = 'button';
        btn.textContent = 'Kopyala';
        btn.addEventListener('click', async ()=>{
          try{
            await navigator.clipboard.writeText(item);
            showToast('Kopyalandƒ± ‚úÖ');
          }catch{
            showToast('Kopyalanamadƒ± ‚ùå');
          }
        });

        li.appendChild(span);
        li.appendChild(btn);
        listEl.appendChild(li);
      });
    }

    function nowStr(){
      const d = new Date();
      const pad = (n)=> String(n).padStart(2,'0');
      return `${pad(d.getDate())}.${pad(d.getMonth()+1)}.${d.getFullYear()} ${pad(d.getHours())}:${pad(d.getMinutes())}`;
    }

    function modeLabel(m){
      if(m === 'plus') return '+tag';
      if(m === 'dot') return 'nokta';
      return 'nokta + tag';
    }

    genBtn.addEventListener('click', ()=>{
      const parsed = parseGmail(emailEl.value);
      if(!parsed){
        showToast('Sadece gmail.com adresi gir (ornek@gmail.com)');
        emailEl.focus();
        return;
      }
      let count = Number(countEl.value || 0);
      count = Math.max(1, Math.min(200, count));
      countEl.value = String(count);

      let items = [];
      if(mode === 'plus') items = makePlus(parsed.local, count);
      if(mode === 'dot') items = makeDot(parsed.local, count);
      if(mode === 'dotplus') items = makeDotPlus(parsed.local, count);

      outBox.style.display = 'block';
      outMeta.textContent = `${items.length} adet ‚Ä¢ Mod: ${modeLabel(mode)} ‚Ä¢ ${parsed.local}@gmail.com`;
      render(items);

      outBox.dataset.items = JSON.stringify(items);
      lastGenEl.textContent = nowStr();
      showToast('Liste hazƒ±r ‚úÖ');
    });

    copyAllBtn.addEventListener('click', async ()=>{
      const items = JSON.parse(outBox.dataset.items || "[]");
      if(!items.length){ showToast('Liste bo≈ü'); return; }
      try{
        await navigator.clipboard.writeText(items.join('\n'));
        showToast('T√ºm√º kopyalandƒ± ‚úÖ');
      }catch{
        showToast('Kopyalanamadƒ± ‚ùå');
      }
    });

    downloadTxtBtn.addEventListener('click', ()=>{
      const items = JSON.parse(outBox.dataset.items || "[]");
      if(!items.length){ showToast('Liste bo≈ü'); return; }
      const blob = new Blob([items.join('\n')], {type: 'text/plain;charset=utf-8'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'aliaslar.txt';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      showToast('TXT indirildi ‚úÖ');
    });

    clearBtn.addEventListener('click', ()=>{
      outBox.style.display = 'none';
      listEl.innerHTML = '';
      outBox.dataset.items = "[]";
      showToast('Temizlendi');
    });

    resetBtn.addEventListener('click', ()=>{
      emailEl.value = 'denemeyet@gmail.com';
      countEl.value = '10';
      mode = 'plus';
      [...modesEl.querySelectorAll('.mode')].forEach(x=>x.classList.remove('active'));
      modesEl.querySelector('.mode[data-mode="plus"]').classList.add('active');
      outBox.style.display = 'none';
      listEl.innerHTML = '';
      outBox.dataset.items = "[]";
      lastGenEl.textContent = '‚Äî';
      showToast('Sƒ±fƒ±rlandƒ± ‚úÖ');
    });

    // Modal controls
    helpBtn.addEventListener('click', ()=>{
      modalBack.classList.add('show');
      modalBack.setAttribute('aria-hidden','false');
    });
    modalClose.addEventListener('click', ()=>{
      modalBack.classList.remove('show');
      modalBack.setAttribute('aria-hidden','true');
    });
    modalBack.addEventListener('click', (e)=>{
      if(e.target === modalBack){
        modalBack.classList.remove('show');
        modalBack.setAttribute('aria-hidden','true');
      }
    });
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && modalBack.classList.contains('show')){
        modalBack.classList.remove('show');
        modalBack.setAttribute('aria-hidden','true');
      }
    });
  </script>
</body>
</html>
